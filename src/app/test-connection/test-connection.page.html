<ion-header>
  <ion-toolbar>
    <ion-title> Test Connection </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title> Auth Connect Config </ion-card-title>
      <ion-card-subtitle
        >The Auth Connect Configuration Tester</ion-card-subtitle
      >
    </ion-card-header>
    <ion-card-content>
      <ion-label>
        Status:
        <span class="status" data-testid="auth-status-label">
          {{loggedIn ? "Logged In" : "Logged Out"}}
        </span>
      </ion-label>
      <div class="error-message">{{ errorMessage }}</div>
      <div class="actions">
        <ion-button
          fill="outline"
          data-testid="auth-button"
          (click)="handleAuth()"
        >
          {{loggedIn ? "Log Out" : "Log In"}}
        </ion-button>
        <ion-button
          [disabled]="!canRefresh"
          data-testid="refresh-button"
          (click)="refresh()"
          >Refresh</ion-button
        >
      </div>
    </ion-card-content>
  </ion-card>
</ion-content>
